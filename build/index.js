(()=>{"use strict";var e,t={687:()=>{const e=window.wp.blocks,t=window.wp.i18n,n=window.wp.blockEditor,o=window.wp.components,l=window.wp.data,s=window.wp.element,r=window.ReactJSXRuntime,a="dcsb",i=JSON.parse('{"UU":"dcsb/dynamic-content"}');(0,e.registerBlockType)(i.UU,{edit:function({attributes:e,setAttributes:i,clientId:c}){const{postType:d,numberOfPosts:p,orderBy:b,order:h,selectedTaxonomy:m,selectedTerms:_,showExcerpt:u,showThumbnail:g}=e,x=(0,n.useBlockProps)(),y=(0,l.useSelect)((e=>{const{getPostTypes:t}=e("core"),n=["attachment","wp_block","wp_navigation","wp_template","wp_template_part","nav_menu_item"],o=t({per_page:-1});return o?o.filter((e=>!n.includes(e.slug)&&e.viewable)).map((e=>({label:e.name,value:e.slug}))):[]}),[]),v=(0,l.useSelect)((e=>{if(!d)return[];const{getTaxonomies:t}=e("core"),n=t({per_page:-1});return n?n.filter((e=>e.types.includes(d))).map((e=>({label:e.name,value:e.slug}))):[]}),[d]),[w,f]=(0,s.useState)(!1),j=(0,l.useSelect)((e=>{if(!m)return[];const{getEntityRecords:t}=e("core"),n=t("taxonomy",m,{per_page:-1,hide_empty:!0});return n?n.map((e=>({label:e.name,value:e.id}))):[]}),[m]);(0,s.useEffect)((()=>{if(m){const{hasFinishedResolution:e,isResolving:t}=wp.data.select("core");t("getEntityRecords",["taxonomy",m,{per_page:-1,hide_empty:!0}])?f(!0):e("getEntityRecords",["taxonomy",m,{per_page:-1,hide_empty:!0}])&&f(!1)}else f(!1)}),[m,j]);const C=`dcsb-post-type-select-${c}`,T=`dcsb-number-posts-range-${c}`,S=`dcsb-orderby-select-${c}`,k=`dcsb-order-select-${c}`,O=`dcsb-taxonomy-select-${c}`,$=`dcsb-show-excerpt-toggle-${c}`,E=`dcsb-show-thumbnail-toggle-${c}`;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(n.InspectorControls,{children:[(0,r.jsxs)(o.PanelBody,{title:(0,t.__)("Content Settings",a),children:[(0,r.jsx)(o.SelectControl,{label:(0,t.__)("Content Type",a),labelPosition:"top",value:d,options:[{label:(0,t.__)("Select a Post Type",a),value:""},...y],onChange:e=>{i({postType:e,selectedTaxonomy:"",selectedTerms:[]})},id:C}),(0,r.jsx)(o.RangeControl,{label:(0,t.__)("Number of items",a),value:p,onChange:e=>i({numberOfPosts:e}),min:1,max:20,id:T}),(0,r.jsx)(o.SelectControl,{label:(0,t.__)("Order By",a),value:b,options:[],onChange:e=>i({orderBy:e}),id:S}),(0,r.jsx)(o.SelectControl,{label:(0,t.__)("Order Direction",a),value:h,options:[],onChange:e=>i({order:e}),disabled:"rand"===b,id:k}),(0,r.jsx)(o.ToggleControl,{label:(0,t.__)("Show Excerpt",a),checked:!!u,onChange:e=>i({showExcerpt:e}),id:$}),(0,r.jsx)(o.ToggleControl,{label:(0,t.__)("Show Featured Image",a),checked:!!g,onChange:e=>i({showThumbnail:e}),id:E})]}),d&&(0,r.jsxs)(o.PanelBody,{title:(0,t.__)("Taxonomy Filter",a),initialOpen:!1,children:[(0,r.jsx)(o.SelectControl,{label:(0,t.__)("Filter by Taxonomy",a),labelPosition:"top",value:m,options:[{label:(0,t.__)("Select a Taxonomy",a),value:""},...v],onChange:e=>{i({selectedTaxonomy:e,selectedTerms:[]})},help:(0,t.__)("Leave blank to not filter by taxonomy.",a),id:O}),m&&w&&(0,r.jsx)(o.Spinner,{}),m&&!w&&j&&j.length>0&&(0,r.jsxs)("div",{className:"dcsb-terms-checklist",role:"group","aria-labelledby":`dcsb-terms-label-${c}`,children:[(0,r.jsx)("p",{id:`dcsb-terms-label-${c}`,className:"components-base-control__label",children:(0,t.__)("Select Terms",a)}),j.map((e=>(0,r.jsx)(o.CheckboxControl,{label:e.label,checked:_.includes(e.value),onChange:()=>(e=>{const t=_.includes(e)?_.filter((t=>t!==e)):[..._,e];i({selectedTerms:t})})(e.value),id:`dcsb-term-${e.value}-${c}`},e.value)))]}),m&&!w&&(!j||0===j.length)&&(0,r.jsx)("p",{children:(0,t.__)("No terms found for this taxonomy.",a)})]}),(0,r.jsx)(o.PanelBody,{title:(0,t.__)("Display Settings",a),initialOpen:!1,children:(0,r.jsx)(o.ToggleControl,{label:(0,t.__)("Show Excerpt",a),checked:!!u,onChange:e=>i({showExcerpt:e}),id:$})})]}),(0,r.jsxs)("div",{...x,children:[(0,r.jsxs)("p",{children:[(0,t.__)("Dynamic Content Showcase: Displaying ",a),(0,r.jsx)("strong",{children:y?.find((e=>e.value===d))?.label||d||(0,t.__)("content",a)}),"."]}),m&&(0,r.jsxs)("p",{children:[(0,t.__)("Filtered by taxonomy: ",a),(0,r.jsx)("strong",{children:v?.find((e=>e.value===m))?.label||m}),_.length>0&&` (${_.length} ${1===_.length?(0,t.__)("term",a):(0,t.__)("terms",a)})`]}),(0,r.jsx)("p",{children:(0,r.jsx)("em",{children:(0,t.__)("Settings are in the block sidebar. Content is rendered on the frontend.",a)})})]})]})},save:()=>null})}},n={};function o(e){var l=n[e];if(void 0!==l)return l.exports;var s=n[e]={exports:{}};return t[e](s,s.exports,o),s.exports}o.m=t,e=[],o.O=(t,n,l,s)=>{if(!n){var r=1/0;for(d=0;d<e.length;d++){for(var[n,l,s]=e[d],a=!0,i=0;i<n.length;i++)(!1&s||r>=s)&&Object.keys(o.O).every((e=>o.O[e](n[i])))?n.splice(i--,1):(a=!1,s<r&&(r=s));if(a){e.splice(d--,1);var c=l();void 0!==c&&(t=c)}}return t}s=s||0;for(var d=e.length;d>0&&e[d-1][2]>s;d--)e[d]=e[d-1];e[d]=[n,l,s]},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={57:0,350:0};o.O.j=t=>0===e[t];var t=(t,n)=>{var l,s,[r,a,i]=n,c=0;if(r.some((t=>0!==e[t]))){for(l in a)o.o(a,l)&&(o.m[l]=a[l]);if(i)var d=i(o)}for(t&&t(n);c<r.length;c++)s=r[c],o.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return o.O(d)},n=globalThis.webpackChunkdcsb_dynamic_content=globalThis.webpackChunkdcsb_dynamic_content||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var l=o.O(void 0,[350],(()=>o(687)));l=o.O(l)})();